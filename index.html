<html>
    <head>
        <title>Student Grade Table</title>
        <link href="styles.css" rel="stylesheet" />
    </head>
    <body>
        <nav class="navigation">
            <a href="./dmindex.html" class="button">Dark Mode</a>
        </nav>
        <h1 class="header">Student Grade Table</h4>
        <table class="table" id="student-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Grade</th>
                    <th>Options</th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr>
                    <td>

                    </td>
                    <td>

                    </td>
                    <td>
                        <div class="option">
                            <button class="optionBtn">...</button>
                            <div class="option-list">
                                <a href="#">Edit</a>
                                <a href="#">Delete</a>
                            </div>
                        </div>
                    </td>
                </tr> -->
            </tbody>
            <tfoot>
                <tr>
                    <td>
                        <input id="name-input" type="text" size="8" placeholder="Name" />
                    </td>
                    <td>
                        <input id="grade-input" type="number" size="3" placeholder="Grade" />
                    </td>
                    <td>
                        <div class="option">
                            <button class="optionBtn" onclick="addStudent()">Add</button>
                        </div>
                    </td>
                </tr>
            </tfoot>
        </table>
        <script>
            let id = 5;
            const students = [
                {id: 1, name: 'Hi there', grade: 55},
                {id: 2, name: 'bye there', grade: 31},
                {id: 3, name: 'cry here', grade: 75},
                {id: 4, name: 'go away', grade: 85},
            ];

            renderTable();

            function renderTable() {
                const tbody = document.querySelector('#student-table tbody');
                tbody.innerHTML = "";
                students.forEach(student => {
                const row = document.createElement('tr');
                const colName = document.createElement('td');
                const colGrade = document.createElement('td');
                const colOptions = document.createElement('td');
                const optionBox = document.createElement('div');
                const optionButton = document.createElement('button');
                const optionList = document.createElement('div');
                const editButton = document.createElement('a');
                const deleteButton = document.createElement('a');

                colName.textContent = student.name;
                colGrade.textContent = student.grade;
                optionButton.textContent = '...';
                editButton.textContent = 'Edit';
                deleteButton.textContent = 'Delete';

                optionBox.setAttribute('class', 'option');
                optionButton.setAttribute('class', 'optionBtn');
                optionList.setAttribute('class', 'option-list');
                row.setAttribute('id', student.id);

                optionList.appendChild(editButton);
                optionList.appendChild(deleteButton);

                optionBox.appendChild(optionButton);
                optionBox.appendChild(optionList);

                colOptions.appendChild(optionBox);

                row.appendChild(colName);
                row.appendChild(colGrade);
                row.appendChild(colOptions);

                tbody.appendChild(row);
            });
            }

            function addStudent() {
                const nameInput = document.querySelector('#name-input');
                const gradeInput = document.querySelector('#grade-input');
                const newStudent = {
                    id,
                    name: nameInput.value,
                    grade: gradeInput.value,
                }

                students.push(newStudent);
                nameInput.value = "";
                gradeInput.value = "";
                id = id + 1;
                renderTable();
            };
        </script>
    </body>
</html>